(defpoll mpd_status :interval "0.1s" `mpc status | awk 'NR==2{print $1; exit}' | sed 's/\[\(.*\)\]/\1/g'`)

(defwidget mpd_controller []
  (button 
    :class "mpd_controller" 
    :onclick "mpc toggle" 
    (label :text {
      mpd_status == "[paused]" ? ""
      : mpd_status == "[playing]" ? ""
      : "?"
    }))
)
